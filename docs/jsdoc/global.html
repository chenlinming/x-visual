<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="assets"><span class="type-signature">(constant) </span>assets<span class="type-signature"></span></h4>




<div class="description">
    <p>Assets buffer for global resource management</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xutils_assetkeepr.js.html">xutils/assetkeepr.js</a>, <a href="xutils_assetkeepr.js.html#line13">line 13</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="Canvas"><span class="type-signature">(constant) </span>Canvas<span class="type-signature"></span></h4>




<div class="description">
    <p>This component can only work with Visaul and make sure
Visual.vtype = AssetType.canvas</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="component_visual.js.html">component/visual.js</a>, <a href="component_visual.js.html#line44">line 44</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="LayerChannel"><span class="type-signature">(constant) </span>LayerChannel<span class="type-signature"></span></h4>




<div class="description">
    <p>value of 1 - 31, 0 is reserved for all in xscene.
For layers, see three.js doc:
https://threejs.org/docs/index.html#api/en/core/Layers</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xmath_layer.js.html">xmath/layer.js</a>, <a href="xmath_layer.js.html#line9">line 9</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="Obj3"><span class="type-signature">(constant) </span>Obj3<span class="type-signature"></span></h4>




<div class="description">
    <p>If Visual.vtype is mesh, sys.Thrender will create a THREE.Object3D according
to this component.
See also xv.ecs.sys.Thrender.createObj3s().</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="component_obj3.js.html">component/obj3.js</a>, <a href="component_obj3.js.html#line40">line 40</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="R"><span class="type-signature">(constant) </span>R<span class="type-signature"></span></h4>




<div class="description">
    <p>Earth Radius hold by OSM,
see https://wiki.openstreetmap.org/wiki/Zoom_levels
TODO use EPSG parameters as a common module.</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="osm_utils.js.html">osm/utils.js</a>, <a href="osm_utils.js.html#line79">line 79</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="ShaderFlag"><span class="type-signature">(constant) </span>ShaderFlag<span class="type-signature"></span></h4>




<div class="description">
    <p>javascript operators uses 32 bits signed integers
see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="component_visual.js.html">component/visual.js</a>, <a href="component_visual.js.html#line24">line 24</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="TweenScript"><span class="type-signature">(constant) </span>TweenScript<span class="type-signature"></span></h4>




<div class="description">
    <p>TODO script details</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="component_tween.js.html">component/tween.js</a>, <a href="component_tween.js.html#line5">line 5</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="x"><span class="type-signature">(constant) </span>x<span class="type-signature"></span></h4>




<div class="description">
    <p>Global singleton, xworld, options, ...
FIXME merge with x.js/x</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xapp_xworld.js.html">xapp/xworld.js</a>, <a href="xapp_xworld.js.html#line34">line 34</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="combineGltfPoints"><span class="type-signature"></span>combineGltfPoints<span class="signature">(cmpObj3, nodes)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Clone and combine gltf nodes' geometry[position] buffer - the modules vertices.
This only handling Visual.vtype == AssetType.point, making points (vertices)
can basically rendered.
Usually this not enough. The animizer will add more components to animize
points.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cmpObj3</code></td>
            

            <td class="type">
            
                
<span class="param-type">xv.Components.Obj3</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>nodes</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last"><p>nodes loaded from gltf.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Visual.paras,</code></td>
            

            <td class="type">
            
                
<span class="param-type">paras</span>


            
            </td>

            

            

            <td class="description last"><p>define, size, color...</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sys_thrender.js.html">sys/thrender.js</a>, <a href="sys_thrender.js.html#line344">line 344</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="createEntityDefs"><span class="type-signature"></span>createEntityDefs<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Deprcated? see model-morph way</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sys_ext_htmltex.js.html">sys/ext/htmltex.js</a>, <a href="sys_ext_htmltex.js.html#line58">line 58</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="createObj3points"><span class="type-signature"></span>createObj3points<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Create THREE.Points from cmpObj3.mesh.
Difference to createObj3particles: createObj3points create points according
to <i>geomType<i> and Obj3.box.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sys_thrender.js.html">sys/thrender.js</a>, <a href="sys_thrender.js.html#line202">line 202</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="createObj3s"><span class="type-signature"></span>createObj3s<span class="signature">(ecs, scene, entities)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Create three.js Object3D - create mesh of Obj3.geom (e.g Obj3Type.BOX).</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ecs</code></td>
            

            <td class="type">
            
                
<span class="param-type">ECS</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>scene</code></td>
            

            <td class="type">
            
                
<span class="param-type">THREE.Scene</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>entities</code></td>
            

            <td class="type">
            
                
<span class="param-type">array.&lt;ECS.Entity></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sys_thrender.js.html">sys/thrender.js</a>, <a href="sys_thrender.js.html#line52">line 52</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="Layers"><span class="type-signature"></span>Layers<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Orignal Source: https://github.com/mrdoob/three.js/blob/master/src/core/Layers.js
by mrdoob / http://mrdoob.com/
LICENSE: MIT</p>
<p>Layer flags.
Note: This is not the component - it's integer in Obj3.layers and occluding.
Post effect system like PathEffect use this as it's pass-layer flags.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li>odys-z@github.com</li>
        </ul>
    </dd>
    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xmath_layer.js.html">xmath/layer.js</a>, <a href="xmath_layer.js.html#line30">line 30</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="loadCanvtex"><span class="type-signature"></span>loadCanvtex<span class="signature">(cmpCanv, stamp, onUpdate)</span><span class="type-signature"> &rarr; {xv.XCompnent.Canvas}</span></h4>
    

    



<div class="description">
    <p>Initialize a Canvas component with a THREE.CanvasTexture from canvas, which
is not initialized when return. The component will be updated when ready</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cmpCanv</code></td>
            

            <td class="type">
            
                
<span class="param-type">xv.XCompnent.Canvas</span>


            
            </td>

            

            

            <td class="description last"><p>Canvas component</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>stamp</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>optional, if stamp is less than x.lastUpdate, ignore
the request; if undefined, always update. So set this carefully for performance
optimization - updating canvas is a heavy work load.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onUpdate</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>optional, callback when html canvas texture updated.
parameter: canvas {HTML.Canvas}, texture {THREE.CanvasTexture}</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xutils_assetkeepr.js.html">xutils/assetkeepr.js</a>, <a href="xutils_assetkeepr.js.html#line139">line 139</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>the Canvas component referencing object:
tex: THREE.CanvasTexture when html canvas is initialized. But before this is undefined.
canvas: HTML canvas when html canvas is initialized. But before this is undefined.
ctx2d: HTML canvas 2d context when html canvas is initialized. But before this is undefined.</p>
<h2>DESIGN-MEMO</h2>
<ol>
<li>This function maintance dirty with tick flag. Referenced cavase won't
been updated if the component's stamp less than the asset's stamp</li>
<li>Texture canvas are sharable.</li>
</ol>
<h2>Reference</h2>
<p>https://stackoverflow.com/questions/3768565/drawing-an-svg-file-on-a-html5-canvas
https://jsfiddle.net/Wijmo5/h2L3gw88/
https://bl.ocks.org/mbostock/1276463
threejs example: https://threejs.org/examples/?q=canvas#webgl_materials_texture_canvas
example source: https://github.com/mrdoob/three.js/blob/master/examples/webgl_materials_texture_canvas.html
threejs doc CanvasTexture: https://threejs.org/docs/index.html#api/en/textures/CanvasTexture</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">xv.XCompnent.Canvas</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="loadGltf"><span class="type-signature"></span>loadGltf<span class="signature">(scene, url, onload)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>load gltf module
see
https://threejs.org/docs/#examples/en/loaders/GLTFLoader
https://threejsfundamentals.org/threejs/lessons/threejs-load-gltf.html</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>scene</code></td>
            

            <td class="type">
            
                
<span class="param-type">THREE.Scene</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">stirng</span>


            
            </td>

            

            

            <td class="description last"><p>A string containing the path/URL of the .gltf or .glb file.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onload</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>callback on assets loaded
see <a href='https://threejs.org/docs/index.html#examples/en/loaders/GLTFLoader'>
THREE.GltfLoader</a></p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xutils_assetkeepr.js.html">xutils/assetkeepr.js</a>, <a href="xutils_assetkeepr.js.html#line54">line 54</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="mat4"><span class="type-signature"></span>mat4<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Represents a 4x4 matrix stored in row-major order that uses Float32Arrays
when available.
Notes on Three.js matrix order:
https://threejs.org/docs/index.html#api/en/math/Matrix4
For users, it looks like row-major order. It shouldn't matter if two type of
matrix's array haven't been messed up.
refrence algorithm:
https://evanw.github.io/lightgl.js/docs/matrix.html</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xmath_vec.js.html">xmath/vec.js</a>, <a href="xmath_vec.js.html#line361">line 361</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="particlesGeom"><span class="type-signature"></span>particlesGeom<span class="signature">(vparas, meshSrc, meshTarget)</span><span class="type-signature"> &rarr; {THREE.BufferGeometry}</span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>vparas</code></td>
            

            <td class="type">
            
                
<span class="param-type">Visual.paras</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>meshSrc</code></td>
            

            <td class="type">
            
                
<span class="param-type">TREE.Mesh</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>meshTarget</code></td>
            

            <td class="type">
            
                
<span class="param-type">TREE.Mesh</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>this function can be completely covered by cubeVoxelGeom().
Create geometry buffer from target mesh.
If shader type is randomParticles, the buffer also has attributes color and size.</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xutils_xglsl.js.html">xutils/xglsl.js</a>, <a href="xutils_xglsl.js.html#line157">line 157</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">THREE.BufferGeometry</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="pushTriggerings"><span class="type-signature"></span>pushTriggerings<span class="signature">(start_or_follow, now, cmpStarter, resolvingBuff, withs)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Buffering triggering tweens by 'startWith' and 'followBy'.
Triggering will started at next update, starting by startTriggered()</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>start_or_follow</code></td>
            

            <td class="type">
            
                
<span class="param-type">const</span>


            
            </td>

            

            

            <td class="description last"><p>STARTWITH | FOLLOWBY</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>now</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>current time</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cmpStarter</code></td>
            

            <td class="type">
            
                
<span class="param-type">CmpTween</span>


            
            </td>

            

            

            <td class="description last"><p>component triggered the event</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>resolvingBuff</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>all triggering tween are put into here</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>withs</code></td>
            

            <td class="type">
            
                
<span class="param-type">array.&lt;(startWith|followBy)></span>


            
            </td>

            

            

            <td class="description last"><p>scripts array defining tweens to be started</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sys_tween_xtweener.js.html">sys/tween/xtweener.js</a>, <a href="sys_tween_xtweener.js.html#line430">line 430</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="randomParticl"><span class="type-signature"></span>randomParticl<span class="signature">(paras)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Get shader for both ShaderFlag.randomParticles.
If u_morph is animated, must providen a uniform vec3, a_target.
Used variables: position, color, size.
gl_position = mix(pos, taget, morph) + noise * dist;</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>paras</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>paras.u_dist {float} in world
paras.u_morph {float}
paras.a_dest {vec3} in world
paras.a_noise {float}
paras.size_scale {float}</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xutils_xglsl.js.html">xutils/xglsl.js</a>, <a href="xutils_xglsl.js.html#line109">line 109</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="registerComponents"><span class="type-signature"></span>registerComponents<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>ecs.registerComponent(name, ComponentExports[name]);</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xapp_xworld.js.html">xapp/xworld.js</a>, <a href="xapp_xworld.js.html#line134">line 134</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="round_to_precision"><span class="type-signature"></span>round_to_precision<span class="signature">(x, precision,)</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    <p>round_to_precision(11, 8); // outputs 8
round_to_precision(3.7, 0.5); // outputs 3.5</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>x</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>precision,</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>default 1</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xmath_vec.js.html">xmath/vec.js</a>, <a href="xmath_vec.js.html#line19">line 19</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>round up</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="sleep"><span class="type-signature"></span>sleep<span class="signature">(ms)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>example: await sleep(1000);</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ms</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xutils_xcommon.js.html">xutils/xcommon.js</a>, <a href="xutils_xcommon.js.html#line12">line 12</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="splash"><span class="type-signature"></span>splash<span class="signature">(splashImgId, xworker, src)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Splashing screean helper.
Usage:
splash(&quot;mySplashDiv&quot;, longRunner)
function longRunner() {
//This may take a while
}</p>
<p>See <a href='https://stackoverflow.com/questions/647440/showing-a-splash-screen-during-script-execution'>AnthonyWJones' Answer @ stackoverflow</a></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>splashImgId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>xworker</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>the long rounner</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>src</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>image</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xutils_assetkeepr.js.html">xutils/assetkeepr.js</a>, <a href="xutils_assetkeepr.js.html#line279">line 279</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="startTriggered"><span class="type-signature"></span>startTriggered<span class="signature">(cmpTweens, triggerings, resolvingBuff,)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Start triggered, recursively, return 'triggerings', of wich elements started
successfully been removed.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>cmpTweens</code></td>
            

            <td class="type">
            
                
<span class="param-type">CmpTweens</span>


            
            </td>

            

            

            <td class="description last"><p>target tween components to be started</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>triggerings</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>[in / out] {entity-id: triggering}, the triggering
component description, where trigering is pushed by #pushTriggerings():
{seqx, starter, triggerAt: STARTWITH | FOLLOWBY}</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>resolvingBuff,</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>the tweener.resolvingStarts, buffer for push
other triggered recursively</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sys_tween_xtweener.js.html">sys/tween/xtweener.js</a>, <a href="sys_tween_xtweener.js.html#line453">line 453</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="testPnt"><span class="type-signature"></span>testPnt<span class="signature">(paras)</span><span class="type-signature"> &rarr; {object}</span></h4>
    

    



<div class="description">
    <p>get shader of gl_point for debugging</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>paras</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"><p>paras.vert_scale [optional] number scale of vertices</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xutils_xglsl.js.html">xutils/xglsl.js</a>, <a href="xutils_xglsl.js.html#line194">line 194</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>{vertexShader, fragmentShader}</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="update"><span class="type-signature"></span>update<span class="signature">(time)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>this.ecs.runSystemGroup('input');
this.ecs.runSystemGroup('render');</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>time</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xapp_xworld.js.html">xapp/xworld.js</a>, <a href="xapp_xworld.js.html#line206">line 206</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="validate"><span class="type-signature"></span>validate<span class="signature">(entity)</span><span class="type-signature"> &rarr; {bool}</span></h4>
    

    



<div class="description">
    <p>Validating the entity can be animized</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entity</code></td>
            

            <td class="type">
            
                
<span class="param-type">ECS.Entity</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="sys_tween_xtweener.js.html">sys/tween/xtweener.js</a>, <a href="sys_tween_xtweener.js.html#line54">line 54</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>ok or not</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">bool</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="xvShader"><span class="type-signature"></span>xvShader<span class="signature">(flag, vparas)</span><span class="type-signature"> &rarr; {object}</span></h4>
    

    



<div class="description">
    <p>example: await sleep(1000);</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>flag</code></td>
            

            <td class="type">
            
                
<span class="param-type">int</span>


            
            </td>

            

            

            <td class="description last"><p>see xv.ecs.comp.ShaderFlag</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>vparas</code></td>
            

            <td class="type">
            
                
<span class="param-type">Visual.paras</span>


            
            </td>

            

            

            <td class="description last"><p>see xv.ecs.comp.Visual</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="xutils_xglsl.js.html">xutils/xglsl.js</a>, <a href="xutils_xglsl.js.html#line79">line 79</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>{vertexShader, fragmentShader}
The shaders for THREE.ShaderMaterial (using variables supported by Three.js)
vertextShader {string}
vertextShader {string}</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">x-visual API</a></h2><h3>Namespaces</h3><ul><li><a href="map3.html">map3</a></li><li><a href="map3.tiles.html">tiles</a></li><li><a href="xv.html">xv</a></li><li><a href="xv.anim.html">anim</a></li><li><a href="xv.chart.html">chart</a></li><li><a href="xv.charts.html">charts</a></li><li><a href="xv.ecs.comp.html">comp</a></li><li><a href="xv.ecs.comp.anim.html">anim</a></li><li><a href="xv.ecs.comp.ext.effects.html">effects</a></li><li><a href="xv.ecs.comp.three.html">three</a></li><li><a href="xv.ecs.sys.html">sys</a></li><li><a href="xv.ecs.sys.ext.html">ext</a></li><li><a href="xv.ecs.sys.tween.html">tween</a></li><li><a href="xv.map3.html">map3</a></li><li><a href="xv.particle.html">particle</a></li><li><a href="xv.utils.html">utils</a></li><li><a href="xv.xapp.html">xapp</a></li><li><a href="xv.xmath.html">xmath</a></li><li><a href="xv.xmath.layer.html">layer</a></li><li><a href="xv.xutils.html">xutils</a></li></ul><h3>Classes</h3><ul><li><a href="AbsCluster.html">AbsCluster</a></li><li><a href="module.exports.html">exports</a></li><li><a href="ModuleChart.html">ModuleChart</a></li><li><a href="OSM3.html">OSM3</a></li><li><a href="OsmUtils.html">OsmUtils</a></li><li><a href="Request.html">Request</a></li><li><a href="TilesKeeper.html">TilesKeeper</a></li><li><a href="vec3.html">vec3</a></li><li><a href="Vec3_.html">Vec3</a></li></ul><h3>Global</h3><ul><li><a href="global.html#assets">assets</a></li><li><a href="global.html#Canvas">Canvas</a></li><li><a href="global.html#combineGltfPoints">combineGltfPoints</a></li><li><a href="global.html#createEntityDefs">createEntityDefs</a></li><li><a href="global.html#createObj3points">createObj3points</a></li><li><a href="global.html#createObj3s">createObj3s</a></li><li><a href="global.html#LayerChannel">LayerChannel</a></li><li><a href="global.html#Layers">Layers</a></li><li><a href="global.html#loadCanvtex">loadCanvtex</a></li><li><a href="global.html#loadGltf">loadGltf</a></li><li><a href="global.html#mat4">mat4</a></li><li><a href="global.html#Obj3">Obj3</a></li><li><a href="global.html#particlesGeom">particlesGeom</a></li><li><a href="global.html#pushTriggerings">pushTriggerings</a></li><li><a href="global.html#R">R</a></li><li><a href="global.html#randomParticl">randomParticl</a></li><li><a href="global.html#registerComponents">registerComponents</a></li><li><a href="global.html#round_to_precision">round_to_precision</a></li><li><a href="global.html#ShaderFlag">ShaderFlag</a></li><li><a href="global.html#sleep">sleep</a></li><li><a href="global.html#splash">splash</a></li><li><a href="global.html#startTriggered">startTriggered</a></li><li><a href="global.html#testPnt">testPnt</a></li><li><a href="global.html#TweenScript">TweenScript</a></li><li><a href="global.html#update">update</a></li><li><a href="global.html#validate">validate</a></li><li><a href="global.html#x">x</a></li><li><a href="global.html#xvShader">xvShader</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Tue Mar 10 2020 23:49:55 GMT+0800 (Hong Kong Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>