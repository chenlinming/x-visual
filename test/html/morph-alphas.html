<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>XTest - Alpha Support</title>
    <script type='text/javascript' src='../../node_modules/three/build/three.min.js'></script>
    <script type='text/javascript' src='../../dist/xv-0.3.0.min.js'></script>
</head>
<body>
  <canvas id='canv'></canvas>
  <script>
    "use strict";

    /**Senario: suppose you have 2 models to be morphed (animated). */
    // initiating xworld
    const xworld = new xv.XWorld(document.getElementById('canv'),
                        window, {canvasize: [480, 320]});
    const ecs = xworld.xecs;

    const pointcurve = {
        id: 'pointcurve',
		Obj3: { geom: xv.XComponent.Obj3Type.PointCurve,
				box: [10],
				transform: [{ translate: [-140, 80, 0] }],
				uniforms: {opacity: 1.0} },
		Visual: {
			vtype:  xv.AssetType.GeomCurve,
			paras: {
				points:[[-12, 12, -10], [12, 12, -10], [12, 0, -10]],
				origin: [0, 0, 0],
				linewidth: 8,
				color: 0x0 }, },
        ModelSeqs: { script: [[
              { mtype: xv.XComponent.AnimType.ALPHA,
                paras: {start: 0,
                        duration: 2,
                        alpha: [0.3, 1],
                        ease: xv.XEasing.Elastic.In} },
              { mtype: xv.XComponent.AnimType.ALPHA,
                paras: {start: Infinity,
                        duration: 1,
                        alpha: [1, 0.1],
                        ease: xv.XEasing.Elastic.In} }
            ]] },
        CmpTweens: {}
    };
    xworld.addEntities(pointcurve);

    xworld.startUpdate();
  </script>
</body>
</html>
