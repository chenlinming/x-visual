<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>XTest - Rotating Box</title>
	<script type='text/javascript' src='../../../node_modules/three/build/three.min.js'></script>
	<script type='text/javascript' src='../../../dist/xv-0.3.0.min.js'></script>
	<style>input[id] {width: 4.9em}</style>
</head>
<body>
  <canvas id='canv'></canvas>
  <p>South <input id='south'/p> &pi;</p>
  <script>
	"use strict";

	var json0 = {
	  "type": "FeatureCollection",
	  "features": [
		{ "type": "Feature", "properties": {"height": 2},
		  "geometry": {
			"type": "polygon",
			"coordinates": [[-100, -100], [100, -100], [0, 100]]
		  }
		}
	  ]
	};
	var o0 = [0, 0];

	const xworld = new xv.XWorld(document.getElementById('canv'),
					  window, {canvasize: [600, 300]});

	xworld.addEntities( {
		id: 'layers',
		Obj3: { geom: xv.XComponent.Obj3Type.BOX,
				box: [300, 80, 300] },
		Visual:{
			vtype: xv.AssetType.mesh,
			shader: xv.XComponent.ShaderFlag.boxLayers,
			paras: {
				cube: [{
					box: [0.2, 0.2, 0.9, 0.4, 0.1], // x, z, w, d, h
					u_tex: 'data:application/x-visual+img,color-pixel [1, 1, 0]' } ],
				tile: {
					hue: [0.3, 0.7, 0.2, 0.4], // tile hue
					edgeWeight: 16.0,
					box: [280, 92], // must present if using geometry otherthan GeoPrism.
					tiles: [14, 3],
					change: false,
					layers: 5,
					floorHeight: 36, // Obj3Type.BOX can't tell shader layer height.
				}
		} },
	} );

	xworld.startUpdate();

  </script>
</body>
</html>
