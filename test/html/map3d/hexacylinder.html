<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>XTest - Geo Tiles</title>
	<script type='text/javascript' src='../../../node_modules/three/build/three.min.js'></script>
	<script type='text/javascript' src='../../../dist/xv-0.3.0.min.js'></script>
</head>
<body>
  <canvas id='canv'></canvas>
  <script>
	"use strict";

    var json0 = {
	  "type": "FeatureCollection",
	  "features": [
	    { "type": "Feature", "properties": {"height": 2},
	      "geometry": {
	        "type": "Point",
	        // "coordinates": [11585311.96, 3597212.54]
	        "coordinates": [11582330.91, 3597527.85]
	      }
	    },
	    { "type": "Feature", "properties": {"height": 1},
	      "geometry": { "type": "Point",
	        "coordinates": [11579302.10, 3594995.87]
	      }
	    }
	  ]
	};
	var o0 = [11582330.91, 3597527.85];
	var o1 = [11575000,    3597527.85];
	// var o = [0, 1];

	const xworld = new xv.XWorld(document.getElementById('canv'),
					  window, {canvasize: [600, 400]});

	xworld.addEntities([
	  { id: 'cylinder0',
		Obj3: { geom: xv.XComponent.Obj3Type.Hexatile,
				box: [] },
		Visual:{
			vtype: xv.AssetType.mesh,
			// shader: xv.XComponent.ShaderFlag.colorArray,
			paras: {
				side: THREE.FrontSide,
				// color array
				colors: [[1, 1, 0]],
				// tile geometry
				features: json0.features,
				origin: o0,
				radius: 40, height: 30,
				style: { geoScale: 0.02 },
			},
			asset: '../../assets/tex/ruler256.png' } ,
	  },
	  { id: 'cylinder1',
		Obj3: { geom: xv.XComponent.Obj3Type.Hexatile,
				box: [] },
		Visual:{
			vtype: xv.AssetType.mesh,
			shader: xv.XComponent.ShaderFlag.colorArray,
			paras: {
				side: THREE.FrontSide,
				// color array
				colors: [[1, 1, 0]],
				// tile geometry
				features: json0.features,
				origin: o1,
				radius: 30, height: 30,
				style: { geoScale: 0.02 },
			},
			asset: '../../assets/tex/ruler256.png' } ,
	  }
   ]);

	xworld.startUpdate();
  </script>
</body>
</html>
