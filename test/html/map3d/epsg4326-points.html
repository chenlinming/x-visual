<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>XTest - Geo Tiles</title>
	<script type='text/javascript' src='../../../node_modules/three/build/three.min.js'></script>
	<script type='text/javascript' src='../../../dist/xv-0.3.0.min.js'></script>
</head>
<body>
  <canvas id='canv'></canvas>
  <script>
	"use strict";

	var json = '../data/geopoints.json';
	var o4326 = [111.91, 36.85];

	const xworld = new xv.XWorld(document.getElementById('canv'),
					  window, {canvasize: [600, 400]});

	xworld.addEntities([
	  { id: 'layer0',
		Obj3: { geom: xv.XComponent.Obj3Type.Hexatile,
				box: [] },
		Visual:{
			vtype: xv.AssetType.mesh,
			shader: xv.XComponent.ShaderFlag.tiledOrbs,
			paras: {
				side: THREE.FrontSide,
				// shader orb
				colors: [[0, 0, 1], [0, 1, 0], [1, 0, 0], [0.8, 0.7, 0], [1, 0, 1]],
				orbR: [4, 7, 5, 4, 5],
				offsets: [[-20, 0, 0], [0, 0, 0], [20, 0, -0], [0, 0, 20], [0, 0, -20]],
				whiteAlpha: 0.2,	// out of range alpha
		        orbScale: [5, 1, 5],
				// tile geometry
				uri: json,
				origin: o4326,
				radius: 42, height: 5,
				style: { geoScale: 0.02 },
			},
			asset: '../../assets/tex/rgb2x2.png' } ,
	  }
	]);

	xworld.startUpdate();
  </script>
</body>
</html>
